<!-- #include tool-top gui\blocks\tool-top.htm;image=#image;onclick=#onclick;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='TWINNING';help_ext=Twinning;1 -->
  
  $+
    html.Snippet(GetVar(default_link),
    "value=spy.twin.run_from_gui",
    "name=TWINNING_CCTBX",
    "onclick=spy.twin.run_from_gui()",
    "td1=<td width='50%'>"
    )
  $-
  
  $+
    html.Snippet(GetVar(default_link),
    "value=Cumulative Plot",
    "name=TWINNING_CUMULATIVE",
    "onclick=cumulative_intensity",
    "td1=<td width='50%'>"
    )
  $-

<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='TWINNING_GEN';help_ext=Twinning_2;1 -->
 
  <td width='10%' align='right'>
  <b>General Options:</b>
  </td> 
  <td width='15%' align='right'>
  <b>Extended Method</b>
  </td>
  <td width='5%' align='right'>
  $+
    html.Snippet("gui/snippets/input-checkbox",
    "name=TWIN_DO_LONG",
    "items=2;12;24",
    "checked=spy.GetParam(snum.twinning.olex2.do_long)",
    "onclick=spy.SetParam(snum.twinning.olex2.do_long, html.GetState(~name~))",
    )
  $-
  </td>
  
  
  <td width="22%" align='right'><b>Minimum Number of Laws</b></td>
  <td width='8%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWINNING_NUMBER_LAWS",
    "items=1;2;4",
    "value=spy.GetParam(snum.twinning.olex2.number_laws)",
    "onchange=spy.SetParam(snum.twinning.olex2.number_laws, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>
  
  
  <td width="14%" align='right'><b>Overlap Threshold</b></td>
  <td width='12%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWINNING_OVERLAP_THRESHOLD",
    "items=0.1",
    "value=spy.GetParam(snum.twinning.olex2.overlap_threshold)",
    "onchange=spy.SetParam(snum.twinning.olex2.overlap_threshold, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>
      
  <td width='15%' align='right'>
  <a href='spy.twin.run_from_gui()' target=''>%Default Search%</a>&nbsp;
  </td>
  
  
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='TWINNING_2';help_ext=Twinning_2;1 -->

  <td width='15%' align='left'>
  <b>Spherical Search:</b>
  </td>

  <td width='15%' align='left'>
  <b># Bad Refl'ns</b>
  </td>
  <td width='10%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=SIZE_SPHERE",
    "items=2;5;10;20",
    "value=spy.GetParam(snum.twinning.olex2.size_sphere)",
    "onchange=spy.SetParam(snum.twinning.olex2.size_sphere, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>


  <td width='15%' align='left'>
  <b>Threshold</b>
  </td>
  <td width='15%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=THRESHOLD_SPHERE",
    "items=0.001;0.002;0.01;0.1",
    "value=spy.GetParam(snum.twinning.olex2.threshold_sphere)",
    "onchange=spy.SetParam(snum.twinning.olex2.threshold_sphere, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>
  
  <td width='5%'>
  <a href='spy.twin.run_from_gui(2)' target=''>%Search%</a>&nbsp;
  </td>

<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='TWINNING_2';help_ext=Twinning_2;1 -->
 
  <td width='15%' align='right'>
  <b>Angle-Axis Search:</b>
  </td> 

  <td width='15%' align='left'>
  <b>Max Index </b>
  </td>
  <td width='10%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWIN_MAX_INDEX",
    "items=1;2;5;12",
    "lable=Max Index",
    "value=spy.GetParam(snum.twinning.olex2.max_index)",
    "onchange=spy.SetParam(snum.twinning.olex2.max_index, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>
  <td width='15%' align='left'>
  <b>Rot. Fract'n </b>
  </td>
  <td width='10%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWIN_ROTATION_FRACTION",
    "items=2;12;24",
    "value=spy.GetParam(snum.twinning.olex2.rotation_fraction)",
    "onchange=spy.SetParam(snum.twinning.olex2.rotation_fraction, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>
  
  <td width='15%' align='right'>
  <b>Threshold </b>
  </td>
  <td width='12%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWIN_THRESHOLD",
    "items=0.001;0.002;0.01;0.1",
    "lable=Max Index",
    "value=spy.GetParam(snum.twinning.olex2.threshold)",
    "onchange=spy.SetParam(snum.twinning.olex2.threshold, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>    
  <td width='5%'>
  <a href='spy.twin.run_from_gui(1)' target=''>%Search%</a>&nbsp;
  </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->



<tr ALIGN='left' width='100%'>
<!-- #include tool-help-first-column gui\blocks\tool-help-first-column.htm;help_ext=Set-Reflection-File;1 -->
<!-- #include row_table_on gui\blocks\row_table_on.htm;1; -->
    <td ALIGN='left' width='12%'>
      <b>hkl file </b>
    </td>

    <td ALIGN='left' width='45%'>
<!-- #include reflection-file gui\snippets\snippet-reflection-file.htm;1; -->
    </td>

    <td ALIGN='center' width='39%'>
      <b>hkl </b>:
<!-- #include reflection-date reflection-date.htm;1; -->
    </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->


<!-- #includeif File.Exists(spy.get_twinning_result_filename()) twinning-result spy.get_twinning_result_filename();1; -->
<!-- #include tool-footer gui\blocks\tool-footer.htm;colspan=2;1; -->