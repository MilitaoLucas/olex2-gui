<!-- #include tool-top gui\blocks\tool-top.htm;image=#image;onclick=#onclick;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='TWINNING';help_ext=Twinning;1 -->
  
  $+
    html.Snippet(GetVar(default_link),
    "value=spy.twin.run_from_gui",
    "name=TWINNING_CCTBX",
    "onclick=spy.twin.run_from_gui()",
    "td1=<td width='40%'>"
    )
  $-
  
  $+
    html.Snippet(GetVar(default_link),
    "value=Cumulative Plot",
    "name=TWINNING_CUMULATIVE",
    "onclick=cumulative_intensity",
    "td1=<td width='40%'>"
    )
  $-

 
  <td width='17%' align='right'>
  <b>Extended </b>
  </td>
  <td width='3%' align='right'>
  $+
    html.Snippet("gui/snippets/input-checkbox",
    "name=TWIN_DO_LONG",
    "items=2;12;24",
    "checked=spy.GetParam(snum.twinning.olex2.do_long)",
    "onclick=spy.SetParam(snum.twinning.olex2.do_long, html.GetState(~name~))",
    )
  $-
  </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='TWINNING_2';help_ext=Twinning_2;1 -->

  <td width='15%' align='left'>
  <b>Max Index </b>
  </td>
  <td width='10%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWIN_MAX_INDEX",
    "items=1;2;5;12",
    "lable=Max Index",
    "value=spy.GetParam(snum.twinning.olex2.max_index)",
    "onchange=spy.SetParam(snum.twinning.olex2.max_index, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>
  <td width='15%' align='left'>
  <b>Rot. Fract'n </b>
  </td>
  <td width='10%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWIN_ROTATION_FRACTION",
    "items=2;12;24",
    "value=spy.GetParam(snum.twinning.olex2.rotation_fraction)",
    "onchange=spy.SetParam(snum.twinning.olex2.rotation_fraction, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>
  
  <td width='15%' align='right'>
  <b>Threshold </b>
  </td>
  <td width='12%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWIN_THRESHOLD",
    "items=0.001;0.002;0.01",
    "lable=Max Index",
    "value=spy.GetParam(snum.twinning.olex2.threshold)",
    "onchange=spy.SetParam(snum.twinning.olex2.threshold, html.GetValue(~name~))",
    "readonly=false",
    )
  $-
  </td>    
  <td width='5%'>
  <a href='spy.twin.run_from_gui(personal=True)' target=''>%Search%</a>&nbsp;
  </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->


<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='TWINNING_EXTA';help_ext=Twinning;1 -->

  <td width="15%" align="left"><b>new m'd</b></td>
  <td width='5%' align='left'>
  $+
    html.Snippet("gui/snippets/input-checkbox",
    "name=TWINNING_NEW_METHODS",
    "checked=spy.GetParam(snum.twinning.olex2.new_methods)",
    "onclick=spy.SetParam(snum.twinning.olex2.new_methods, html.GetState(~name~))",
    )
  $-
  </td>

  <td width="15%" align="left"><b>alw's BASF</b></td>
  <td width='5%' align='left'>
  $+
    html.Snippet("gui/snippets/input-checkbox",
    "name=TWINNING_ALWAYS_BASF",
    "checked=spy.GetParam(snum.twinning.olex2.always_basf)",
    "onclick=spy.SetParam(snum.twinning.olex2.always_basf, html.GetState(~name~))",
    )
  $-
  </td>

  <td width="15%" align='right'><b>very long</b></td>
  <td width='5%' align='left'>
  $+
    html.Snippet("gui/snippets/input-checkbox",
    "name=TWINNING_VERY_LONG",
    "checked=spy.GetParam(snum.twinning.olex2.very_long)",
    "onclick=spy.SetParam(snum.twinning.olex2.very_long, html.GetState(~name~))",
    )
  $-
  </td>


  <td width="15%" align='right'><b>h.axis.m</b></td>
  <td width='5%' align='left'>
  $+
    html.Snippet("gui/snippets/input-checkbox",
    "name=TWINNING_HEIGHT_AXIS_METHOD",
    "checked=spy.GetParam(snum.twinning.olex2.height_axis_method)",
    "onclick=spy.SetParam(snum.twinning.olex2.height_axis_method, html.GetState(~name~))",
    )
  $-
  </td>


  <td width="12%" align='right'><b>n_laws</b></td>
  <td width='8%' align='left'>
  $+
    html.Snippet("gui/snippets/input-combo",
    "name=TWINNING_NUMBER_LAWS",
    "value=4",
    "items=2;4;6;8",
    "checked=spy.GetParam(snum.twinning.olex2.number_laws)",
    "onclick=spy.SetParam(snum.twinning.olex2.number_laws, html.GetState(~name~))",
    "readonly=False",
    )
  $-
  </td>


<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->


<tr ALIGN='left' width='100%'>
<!-- #include tool-help-first-column gui\blocks\tool-help-first-column.htm;help_ext=Set-Reflection-File;1 -->
<!-- #include row_table_on gui\blocks\row_table_on.htm;1; -->
    <td ALIGN='left' width='12%'>
      <b>hkl file </b>
    </td>

    <td ALIGN='left' width='45%'>
<!-- #include reflection-file gui\snippets\snippet-reflection-file.htm;1; -->
    </td>

    <td ALIGN='center' width='39%'>
      <b>hkl </b>:
<!-- #include reflection-date reflection-date.htm;1; -->
    </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->


<!-- #includeif File.Exists(spy.get_twinning_result_filename()) twinning-result spy.get_twinning_result_filename();1; -->
<!-- #include tool-footer gui\blocks\tool-footer.htm;colspan=2;1; -->