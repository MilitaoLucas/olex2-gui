<!-- #include tool-top gui\blocks\tool-top.htm;image=#image;1; -->

<tr>
	<td width="8" bgcolor="$getVar(gui_html_table_firstcol_colour)"></td></td>
		<zimg border="0" src="gui/images/toolbar-electron-density.png">
	</td>
	<td width='33%'>
		<input 
			bgcolor="$getVar(gui_html_input_bg_colour)" 
			type="combo" 
			name="SET_SNUM_MAP_TYPE" 
			items='diff;fcalc;2Fo-Fc<-tomc;fobs' 
			value="GetVar(snum_map_type)" 
			width="60" 
			onchange="SetVar(snum_map_type,GetValue(SET_SNUM_MAP_TYPE))>>spy.MapView(1)>>html.SetValue(SNUM_EDEN_SLIDE,'eval(xgrid.GetMin()*10), eval(xgrid.GetMax()*10)')"
			height="18" 
			label=" Map ">		
	</td>		
	<td width='33%'>
		<input 
			bgcolor="$getVar(gui_html_input_bg_colour)" 
			type="combo" 
			name="SET_SNUM_MAP_SOURCE" 
			items='olex;fcf;' 
			value="GetVar(snum_map_source)" 
			width="50" 
			onchange="SetVar(snum_map_source,GetValue(SET_SNUM_MAP_SOURCE))>>spy.MapView(1)>>html.SetValue(SNUM_EDEN_SLIDE,'eval(xgrid.GetMin()*10), eval(xgrid.GetMax()*10)')"
			height="18" 
			label="Source">		
	</td>		
	<td width='33%'>
		<input 
			bgcolor="$getVar(gui_html_input_bg_colour)" 
			type="combo" 
			name="SET_SNUM_MAP_VIEW" 
			items='2D;surface;wire;points' 
			value="GetVar(snum_map_view)" 
			width="62" 
			onchange="SetVar(snum_map_view,GetValue(SET_SNUM_MAP_VIEW))>>spy.MapView(0)"
			height="18" 
			label="View ">		
	</td>		
</tr>


<tr>
	<td width="8" bgcolor="$getVar(gui_html_table_firstcol_colour)"></td></td>
	</td>
	<td colspan = '3' >
		<input 
			type="slider" 
			name = "SNUM_EDEN_SLIDE" 
			width="$eval(htmlpanelwidth()-110)" 
			height="18" 
			value="eval(xgrid.Scale()*10)" 
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			min="-10" 
			max="+20" 
			onchange = "SetVar(snum_eden_value,GetValue(SNUM_EDEN_SLIDE))>>
SetValue(SNUM_EDEN_VALUE,eval(GetValue(SNUM_EDEN_SLIDE)/10))>>
xgrid.Scale(eval(GetValue(SNUM_EDEN_SLIDE)/10))
">
		<b>%Mask%:</b>
     <input 
			type="checkbox" 
			bgcolor="$getVar(gui_html_table_bg_colour)" 
			fgcolor="$GetVar(gui_html_font_colour)" 
			name="MAP_MASK" 
			$spy.CheckBoxValue(snum_map_mask) 
			height='12' 
			width='20' 
			oncheck="SetVar(snum_map_mask,true)" 
			onuncheck="SetVar(snum_map_mask,false)">
		</td>
</tr>		


<tr>
	<td width="8" align="center" bgcolor="$getVar(gui_html_table_firstcol_colour)">
		<a 
			href="spy.make_help_box -name='electron-density' -popout='False'" 
			target="Help me with this">
			<zimg border="0" src="info.png">
		</a>	
	</td>
	<td colspan='1' align="center">
		<input 
			type="button" 
			name="SNUM_MAP_BUTTON" 
			value="Calculate" 
			width="$eval(htmlpanelwidth()-240)" 
			manage
			ondown="setlabel(SNUM_MAP_BUTTON,%Delete Map%)>>
spy.MapView(1)>>
html.SetValue(SNUM_EDEN_SLIDE,'eval(xgrid.GetMin()*10), eval(xgrid.GetMax()*10)')>> 
SetValue(SNUM_EDEN_SLIDE,eval(xgrid.Scale()*10))>> 
SetValue(SNUM_EDEN_VALUE,xgrid.Scale())" 
			onup="setlabel(SNUM_MAP_BUTTON,%Calculate%)>>xgrid.visible(false)"
	>	
	</td>
	<td colspan='1' align="center">
			<input 
			type="text" 
			name = "SET_SNUM_MAP_RESOLUTION" 
			width="33" 
			height="18" 
			label="Res/&Aring "
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			value="GetVar(snum_map_resolution)" 
			onchange="SetVar(snum_map_resolution,GetValue(SET_SNUM_MAP_RESOLUTION))"
			>

	</td>
	<td colspan ='1'>
		<input 
			type="text" 
			name = "SNUM_EDEN_VALUE" 
			width="40" 
			height="18" 
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			value="$XGrid.Scale()" 
			onchange="SetVar(snum_eden_value,GetValue(SNUM_EDEN_VALUE))>>
xgrid.Scale(GetValue(snum_eden_value))>>
">

	</td>
</tr>		

<!-- #include tool-footer gui\blocks\tool-footer.htm;1; -->




<!--


<tr>
	<td width="8" bgcolor="$getVar(gui_html_table_firstcol_colour)"></td></td>
		<zimg border="0" src="gui/images/toolbar-electron-density.png">
	</td>
	<td colspan='2'>
		<input 
			type="slider" 
			name = "SNUM_EDEN_COARSE_SLIDE" 
			width="$eval(htmlpanelwidth()-80)" 
			height="18" 
			value="$GetVar(snum_eden_coarse_value)" 
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			min="0" 
			max="20" 
			onchange = "SetVar(snum_eden_coarse_value,GetValue(SNUM_EDEN_COARSE_SLIDE))>>
SetValue(SNUM_EDEN_COARSE_VALUE,GetVar(snum_eden_coarse_value))>>
xgrid.Scale(eval(getvalue(snum_eden_coarse_value) + eval(GetValue(snum_eden_fine_value)/1)))>>
SetValue(XGRID_SCALE,XGrid.Scale())
">
	<td colspan='1'>
		<input 
			type="text" 
			name = "SNUM_EDEN_COARSE_VALUE" 
			width="30" 
			height="18" 
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			value="$GetVar(snum_eden_coarse_value)" 
			onchange="SetVar(snum_eden_coarse_value,GetValue(SNUM_EDEN_COARSE_VALUE))>>
xgrid.Scale(eval(getvalue(snum_eden_coarse_value)) + eval(GetValue(snum_eden_fine_value)/1))>>>>
SetValue(XGRID_SCALE,XGrid.Scale())
">
		</td>
</tr>		

<tr>
	<td width="8" bgcolor="$getVar(gui_html_table_firstcol_colour)"></td></td>
		<zimg border="0" src="gui/images/toolbar-electron-density.png">
	</td>
	<td colspan='2'>
		<input 
			type="slider" 
			name = "SNUM_EDEN_FINE_SLIDE" 
			width="$eval(htmlpanelwidth()-80)" 
			height="18" 
			value="eval(GetVar(snum_eden_fine_value)/1)" 
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			min="-10" 
			max="10" 
			onchange = "SetVar(snum_eden_fine_value,eval(GetValue(SNUM_EDEN_FINE_SLIDE)/1))>>
SetValue(SNUM_EDEN_FINE_VALUE,eval(GetVar(snum_eden_fine_value)/10))>>
xgrid.Scale(eval(GetVar(snum_eden_coarse_value) + eval(GetVar(snum_eden_fine_value)/10)))>>
SetValue(XGRID_SCALE,XGrid.Scale())
">
	</td>
	<td>
		<input 
			type="text" 
			name = "SNUM_EDEN_FINE_VALUE" 
			width="30" 
			height="18" 
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			value="eval(GetVar(snum_eden_fine_value)/10)" 
			onchange="SetVar(snum_eden_fine_value,eval(GetValue(SNUM_EDEN_FINE_VALUE)*10))>>
SetValue(SNUM_EDEN_FINE_SLIDE,GetVar(snum_eden_fine_value))>>
xgrid.Scale(eval(getvalue(snum_eden_coarse_value)) + eval(GetValue(snum_eden_fine_value)/10))>>
SetValue(XGRID_SCALE,XGrid.Scale())
">
		</td>
</tr>		

-->


<!--	
	<td colspan='1'>
		<input 
			type="text" 
			name = "XGRID_SCALE" 
			width="30" 
			height="18" 
			bgcolor="$GetVar(gui_html_table_bg_colour)"  
			fgcolor="$GetVar(gui_html_font_colour)" 
			value="xgrid.scale()" 
			onchange="xgrid.Scale(GetValue(XGRID_SCALE))>>
SetValue(SNUM_EDEN_COARSE_SLIDE,eval(XGrid.Scale()/1))>>
SetValue(SNUM_EDEN_COARSE_VALUE,eval(XGrid.Scale()/1))>>
SetVar(snum_eden_coarse_value,eval(XGrid.Scale()/1))>>
SetValue(SNUM_EDEN_FINE_SLIDE,0)>>
SetValue(SNUM_EDEN_FINE_VALUE,0)>>
SetVar(snum_eden_fine_value,0)>>
">
</td>
-->

